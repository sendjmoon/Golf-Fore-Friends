<sub-nav data-page-title="'Games'" data-creating-game="gc.creating"></sub-nav>

<div class="page-container bg-lt-gray">
  <div class="page-content">

    <div class="gff-container" ng-hide="gc.creating">
      <div class="gff-content">
        <ul class="games-list">
          <li class="game-container" ng-repeat="game in gamesData.games">
            <h4 class="game-name">{{game.name}}</h4>
            <p class="game-location">{{game.location}}</p>
            <p class="date-played">{{game.datePlayed}}</p>

            <button data-toggle="collapse" data-target="#{{game.publicId}}-results">Results</button>
            <div class="results-tab collapse" id="{{game.publicId}}-results">
              <div class="results-container">
                <ul>
                  <li ng-repeat="result in game.results">
                    <p>Name: {{result.playerId.fullName}}</p>
                    <p>Strokes: {{result.strokes}}</p>
                  </li>
                </ul>
              </div>
            </div>

            <button data-toggle="collapse" data-target="#{{game.publicId}}-comments">Comments</button>
            <div class="comments-tab collapse" id="{{game.publicId}}-comments">
              <ul>
                <li ng-repeat="comment in game.comments">
                  <comment data-game-id="game._id" data-comment="comment"></comment>
                </li>
                <li>
                  <new-comment data-game-id="game._id"></new-comment>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div><!--gff-content-->
    </div><!--gff-container-->

    <div class="gff-container main" ng-show="gc.creating">
      <div class="gff-content shadow">
        <create-game ng-show="gc.creating"></create-game>
        <button class="gff-btn" ng-show="gc.creating" ng-click="gc.creating=false">Cancel</button>
      </div>
    </div>

  </div>
</div>
